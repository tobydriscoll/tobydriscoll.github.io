<!DOCTYPE html><html lang="en-us" >

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Source Themes Academic 4.8.0">

  

  
  
  
  
  
    
    
    
  
  

  

  
  
  
    
  
  <meta name="description" content="Three in one this time: Lecture 20, which is on Gaussian elimination / LU factorization, Lecture 21, on row pivoting, and Lecture 23, on Cholesky factorization. I mainly skipped over Lecture 22, about the curious case of the stability of pivoted LU, but the main example is dropped into the end of my coverage of pivoting.
The Julia surprises are, not surprisingly, coming less frequently. In Lecture 20 I had some fun with rational representations.">

  
  <link rel="alternate" hreflang="en-us" href="https://tobydriscoll.net/blog/trefethen-bau-matlab-julia-lectures-20-21-23-solving-square-systems/">

  


  
  
  
  <meta name="theme-color" content="#4caf50">
  

  
  
  
  <script src="/js/mathjax-config.js"></script>
  

  
  
  
  
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.6/css/academicons.min.css" integrity="sha256-uFVgMKfistnJAfoCUQigIl+JfUaP47GrRKjf6CTPVmw=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.0-1/css/all.min.css" integrity="sha256-4w9DunooKSr3MFXHXWyFER38WmPdm361bQS/2KUWZbU=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css" integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin="anonymous">

    
    
    
      
    
    
      
      
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/tomorrow-night.min.css" crossorigin="anonymous" title="hl-light">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/tomorrow-night.min.css" crossorigin="anonymous" title="hl-dark" disabled>
      
    

    

    

    
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.1.2/lazysizes.min.js" integrity="sha256-Md1qLToewPeKjfAHU1zyPwOutccPAm5tahnaw7Osw0A=" crossorigin="anonymous" async></script>
      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js" integrity="" crossorigin="anonymous" async></script>
      
    
      

      
      

      
    

  

  
  
  
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat:400,700%7CRoboto:400,400italic,700%7CRoboto+Mono&display=swap">
  

  
  
  
  
  <link rel="stylesheet" href="/css/academic.css">

  





<script async src="https://www.googletagmanager.com/gtag/js?id=UA-141510424-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];

  function gtag() {
      dataLayer.push(arguments);
  }

  function trackOutboundLink(url, target) {
    gtag('event', 'click', {
         'event_category': 'outbound',
         'event_label': url,
         'transport_type': 'beacon',
         'event_callback': function () {
           if (target !== '_blank') {
             document.location = url;
           }
         }
    });
    console.debug("Outbound link clicked: " + url);
  }

  function onClickCallback(event) {
    if ((event.target.tagName !== 'A') || (event.target.host === window.location.host)) {
      return;
    }
    trackOutboundLink(event.target, event.target.getAttribute('target'));  
  }

  gtag('js', new Date());
  gtag('config', 'UA-141510424-1', {});

  
  document.addEventListener('click', onClickCallback, false);
</script>


  


  
  

  

  <link rel="manifest" href="/index.webmanifest">
  <link rel="icon" type="image/png" href="/images/icon_hub87c779f1881e6e8f3a1cfa061d957a8_23429_32x32_fill_lanczos_center_2.png">
  <link rel="apple-touch-icon" type="image/png" href="/images/icon_hub87c779f1881e6e8f3a1cfa061d957a8_23429_192x192_fill_lanczos_center_2.png">

  <link rel="canonical" href="https://tobydriscoll.net/blog/trefethen-bau-matlab-julia-lectures-20-21-23-solving-square-systems/">

  
  
  
  
  
  
  
    
    
  
  
  <meta property="twitter:card" content="summary">
  
  <meta property="twitter:site" content="@tobydriscoll">
  <meta property="twitter:creator" content="@tobydriscoll">
  
  <meta property="og:site_name" content="Toby Driscoll">
  <meta property="og:url" content="https://tobydriscoll.net/blog/trefethen-bau-matlab-julia-lectures-20-21-23-solving-square-systems/">
  <meta property="og:title" content="Trefethen &amp; Bau &amp; MATLAB &amp; Julia: Lectures 20, 21, 23: Solving square systems | Toby Driscoll">
  <meta property="og:description" content="Three in one this time: Lecture 20, which is on Gaussian elimination / LU factorization, Lecture 21, on row pivoting, and Lecture 23, on Cholesky factorization. I mainly skipped over Lecture 22, about the curious case of the stability of pivoted LU, but the main example is dropped into the end of my coverage of pivoting.
The Julia surprises are, not surprisingly, coming less frequently. In Lecture 20 I had some fun with rational representations."><meta property="og:image" content="https://tobydriscoll.net/images/icon_hub87c779f1881e6e8f3a1cfa061d957a8_23429_512x512_fill_lanczos_center_2.png">
  <meta property="twitter:image" content="https://tobydriscoll.net/images/icon_hub87c779f1881e6e8f3a1cfa061d957a8_23429_512x512_fill_lanczos_center_2.png"><meta property="og:locale" content="en-us">
  
    
      <meta property="article:published_time" content="2016-10-22T16:20:15&#43;00:00">
    
    <meta property="article:modified_time" content="2016-10-22T16:20:15&#43;00:00">
  

  


    






  




<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://tobydriscoll.net/blog/trefethen-bau-matlab-julia-lectures-20-21-23-solving-square-systems/"
  },
  "headline": "Trefethen \u0026 Bau \u0026 MATLAB \u0026 Julia: Lectures 20, 21, 23: Solving square systems",
  
  "datePublished": "2016-10-22T16:20:15Z",
  "dateModified": "2016-10-22T16:20:15Z",
  
  "publisher": {
    "@type": "Organization",
    "name": "Toby Driscoll",
    "logo": {
      "@type": "ImageObject",
      "url": "https://tobydriscoll.net/images/icon_hub87c779f1881e6e8f3a1cfa061d957a8_23429_192x192_fill_lanczos_center_2.png"
    }
  },
  "description": "Three in one this time: Lecture 20, which is on Gaussian elimination / LU factorization, Lecture 21, on row pivoting, and Lecture 23, on Cholesky factorization. I mainly skipped over Lecture 22, about the curious case of the stability of pivoted LU, but the main example is dropped into the end of my coverage of pivoting.\nThe Julia surprises are, not surprisingly, coming less frequently. In Lecture 20 I had some fun with rational representations."
}
</script>

  

  


  


  





  <title>Trefethen &amp; Bau &amp; MATLAB &amp; Julia: Lectures 20, 21, 23: Solving square systems | Toby Driscoll</title>

</head>

<body id="top" data-spy="scroll" data-offset="70" data-target="#TableOfContents" >

  <aside class="search-results" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6">
          <h1>Search</h1>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        <input name="q" id="search-query" placeholder="Search..." autocapitalize="off"
        autocomplete="off" autocorrect="off" spellcheck="false" type="search">
        
      </div>

    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

    </section>
  </div>
</aside>


  







<nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id="navbar-main">
  <div class="container">

    
    <div class="d-none d-lg-inline-flex">
      <a class="navbar-brand" href="/">Toby Driscoll</a>
    </div>
    

    
    <button type="button" class="navbar-toggler" data-toggle="collapse"
            data-target="#navbar-content" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
    <span><i class="fas fa-bars"></i></span>
    </button>
    

    
    <div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none">
      <a class="navbar-brand" href="/">Toby Driscoll</a>
    </div>
    

    
    
    <div class="navbar-collapse main-menu-item collapse justify-content-start" id="navbar-content">

      
      <ul class="navbar-nav d-md-inline-flex">
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#about"><span>Home</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link  active" href="/blog/"><span>Blog</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link " href="/publication/"><span>Publications</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link " href="/tags/software/"><span>Software</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link " href="/tags/book/"><span>Books</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        
          
          
          
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#contact"><span>Contact</span></a>
        </li>

        
        

      

        
      </ul>
    </div>

    <ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2">
      
      <li class="nav-item">
        <a class="nav-link js-search" href="#" aria-label="Search"><i class="fas fa-search" aria-hidden="true"></i></a>
      </li>
      

      
      <li class="nav-item dropdown theme-dropdown">
        <a href="#" class="nav-link js-theme-selector" data-toggle="dropdown" aria-haspopup="true">
          <i class="fas fa-palette" aria-hidden="true"></i>
        </a>
        <div class="dropdown-menu">
          <a href="#" class="dropdown-item js-set-theme-light">
            <span>Light</span>
          </a>
          <a href="#" class="dropdown-item js-set-theme-dark">
            <span>Dark</span>
          </a>
          <a href="#" class="dropdown-item js-set-theme-auto">
            <span>Automatic</span>
          </a>
        </div>
      </li>
      

      

    </ul>

  </div>
</nav>


  <article class="article">

  












  

  
  
  
<div class="article-container pt-3">
  <h1>Trefethen &amp; Bau &amp; MATLAB &amp; Julia: Lectures 20, 21, 23: Solving square systems</h1>

  

  
    


<div class="article-metadata">

  
  

  
  <span class="article-date">
    
    
      
    
    Oct 22, 2016
  </span>
  

  

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    4 min read
  </span>
  

  
  
  

  
  
  <span class="middot-divider"></span>
  <span class="article-categories">
    <i class="fas fa-folder mr-1"></i><a href="/categories/computing/">computing</a>, <a href="/categories/teaching/">teaching</a></span>
  

</div>

    














  
</div>



  <div class="article-container">

    <div class="article-style">
      <p>Three in one this time: 
<a href="https://gist.github.com/tobydriscoll/e2f44e7756b864050b52c6773aa83b70" target="_blank" rel="noopener">Lecture 20</a>, which is on Gaussian elimination / LU factorization, 
<a href="https://gist.github.com/tobydriscoll/2b74da569406da55c599a61afe99cf56" target="_blank" rel="noopener">Lecture 21</a>, on row pivoting, and 
<a href="https://gist.github.com/tobydriscoll/17ce89eb2c827e0b870877219ec64fe8" target="_blank" rel="noopener">Lecture 23</a>, on Cholesky factorization. I mainly skipped over Lecture 22, about the curious case of the stability of pivoted LU, but the main example is dropped into the end of my coverage of pivoting.</p>
<p>The Julia surprises are, not surprisingly, coming less frequently. In Lecture 20 I had some fun with rational representations. I like using MATLAB&rsquo;s <code>format rat</code> when presenting Gaussian elimination, as it allows me to recall the way the process looks when learned by hand. It&rsquo;s a fun trick, but of course the underlying values are still all double precision, and the rational approximations to them are found ex post facto. By contrast, Julia offers true rational numbers, constructed and shown using the <code>//</code> operation.</p>
<p>Compare the MATLAB</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-matlab" data-lang="matlab">format rat
I = eye(<span style="color:#ae81ff">4</span>);
L21 = I <span style="color:#f92672">+</span> (<span style="color:#f92672">-</span><span style="color:#ae81ff">5</span><span style="color:#f92672">/</span><span style="color:#ae81ff">17</span>)<span style="color:#f92672">*</span>I(:,<span style="color:#ae81ff">2</span>)<span style="color:#f92672">*</span>I(:,<span style="color:#ae81ff">1</span>)<span style="color:#f92672">&#39;</span>;
L31 = I <span style="color:#f92672">+</span> (<span style="color:#f92672">-</span><span style="color:#ae81ff">9</span><span style="color:#f92672">/</span><span style="color:#ae81ff">17</span>)<span style="color:#f92672">*</span>I(:,<span style="color:#ae81ff">3</span>)<span style="color:#f92672">*</span>I(:,<span style="color:#ae81ff">1</span>)<span style="color:#f92672">&#39;</span>;
L41 = I <span style="color:#f92672">+</span> (<span style="color:#f92672">-</span><span style="color:#ae81ff">4</span><span style="color:#f92672">/</span><span style="color:#ae81ff">17</span>)<span style="color:#f92672">*</span>I(:,<span style="color:#ae81ff">4</span>)<span style="color:#f92672">*</span>I(:,<span style="color:#ae81ff">1</span>)<span style="color:#f92672">&#39;</span>;
</code></pre></div><p>to the Julia</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-julia" data-lang="julia">I <span style="color:#f92672">=</span> eye(<span style="color:#66d9ef">Rational</span>,<span style="color:#ae81ff">4</span>);
L21 <span style="color:#f92672">=</span> copy(I);  L21[<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">1</span>] <span style="color:#f92672">=</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">5</span><span style="color:#f92672">//</span><span style="color:#ae81ff">17</span>;
L31 <span style="color:#f92672">=</span> copy(I);  L31[<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">1</span>] <span style="color:#f92672">=</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">9</span><span style="color:#f92672">//</span><span style="color:#ae81ff">17</span>;
L41 <span style="color:#f92672">=</span> copy(I);  L41[<span style="color:#ae81ff">4</span>,<span style="color:#ae81ff">1</span>] <span style="color:#f92672">=</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">4</span><span style="color:#f92672">//</span><span style="color:#ae81ff">17</span>;
</code></pre></div><p>The MATLAB code requires only the <code>format</code> call, because it&rsquo;s only the display of results that is affected. The Julia code is doing something deeper and needs more changes as a result.</p>
<p>Julia could use something like a <code>format</code> command. I almost always find MATLAB&rsquo;s terminal output more readable, or at least easier to manipulate into a good form. Here&rsquo;s one example using the rational output. First, MATLAB:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-matlab" data-lang="matlab"><span style="color:#ae81ff">17</span>              <span style="color:#ae81ff">2</span>              <span style="color:#ae81ff">3</span>             <span style="color:#ae81ff">13</span>             <span style="color:#ae81ff">93</span>       
 <span style="color:#ae81ff">0</span>            <span style="color:#ae81ff">194</span><span style="color:#f92672">/</span><span style="color:#ae81ff">17</span>         <span style="color:#ae81ff">155</span><span style="color:#f92672">/</span><span style="color:#ae81ff">17</span>          <span style="color:#ae81ff">71</span><span style="color:#f92672">/</span><span style="color:#ae81ff">17</span>         <span style="color:#ae81ff">963</span><span style="color:#f92672">/</span><span style="color:#ae81ff">17</span>    
 <span style="color:#ae81ff">0</span>            <span style="color:#ae81ff">101</span><span style="color:#f92672">/</span><span style="color:#ae81ff">17</span>          <span style="color:#ae81ff">92</span><span style="color:#f92672">/</span><span style="color:#ae81ff">17</span>          <span style="color:#ae81ff">87</span><span style="color:#f92672">/</span><span style="color:#ae81ff">17</span>         <span style="color:#ae81ff">574</span><span style="color:#f92672">/</span><span style="color:#ae81ff">17</span>    
 <span style="color:#ae81ff">0</span>            <span style="color:#ae81ff">230</span><span style="color:#f92672">/</span><span style="color:#ae81ff">17</span>         <span style="color:#ae81ff">243</span><span style="color:#f92672">/</span><span style="color:#ae81ff">17</span>         <span style="color:#f92672">-</span><span style="color:#ae81ff">18</span><span style="color:#f92672">/</span><span style="color:#ae81ff">17</span>        <span style="color:#ae81ff">1158</span><span style="color:#f92672">/</span><span style="color:#ae81ff">17</span>
</code></pre></div><p>And the Julia:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-julia" data-lang="julia"><span style="color:#ae81ff">4</span>x5 <span style="color:#66d9ef">Array</span>{<span style="color:#66d9ef">Rational</span>{T<span style="color:#f92672">&amp;</span>lt;<span style="color:#f92672">:</span><span style="color:#66d9ef">Integer</span>},<span style="color:#ae81ff">2</span>}<span style="color:#f92672">:</span>
<span style="color:#ae81ff">17</span><span style="color:#f92672">//</span><span style="color:#ae81ff">1</span>    <span style="color:#ae81ff">2</span><span style="color:#f92672">//</span><span style="color:#ae81ff">1</span>     <span style="color:#ae81ff">3</span><span style="color:#f92672">//</span><span style="color:#ae81ff">1</span>    <span style="color:#ae81ff">13</span><span style="color:#f92672">//</span><span style="color:#ae81ff">1</span>    <span style="color:#ae81ff">93</span><span style="color:#f92672">//</span><span style="color:#ae81ff">2</span> 
  <span style="color:#ae81ff">0</span><span style="color:#f92672">//</span><span style="color:#ae81ff">1</span>  <span style="color:#ae81ff">194</span><span style="color:#f92672">//</span><span style="color:#ae81ff">17</span>  <span style="color:#ae81ff">155</span><span style="color:#f92672">//</span><span style="color:#ae81ff">17</span>   <span style="color:#ae81ff">71</span><span style="color:#f92672">//</span><span style="color:#ae81ff">17</span>  <span style="color:#ae81ff">963</span><span style="color:#f92672">//</span><span style="color:#ae81ff">34</span>
  <span style="color:#ae81ff">0</span><span style="color:#f92672">//</span><span style="color:#ae81ff">1</span>  <span style="color:#ae81ff">101</span><span style="color:#f92672">//</span><span style="color:#ae81ff">17</span>   <span style="color:#ae81ff">92</span><span style="color:#f92672">//</span><span style="color:#ae81ff">17</span>   <span style="color:#ae81ff">87</span><span style="color:#f92672">//</span><span style="color:#ae81ff">17</span>  <span style="color:#ae81ff">287</span><span style="color:#f92672">//</span><span style="color:#ae81ff">17</span>
  <span style="color:#ae81ff">0</span><span style="color:#f92672">//</span><span style="color:#ae81ff">1</span>  <span style="color:#ae81ff">230</span><span style="color:#f92672">//</span><span style="color:#ae81ff">17</span>  <span style="color:#ae81ff">243</span><span style="color:#f92672">//</span><span style="color:#ae81ff">17</span>  <span style="color:#f92672">-</span><span style="color:#ae81ff">18</span><span style="color:#f92672">//</span><span style="color:#ae81ff">17</span>  <span style="color:#ae81ff">579</span><span style="color:#f92672">//</span><span style="color:#ae81ff">17</span>
</code></pre></div><p>I almost never need that header line that Julia gives. The numbers are already showing themselves to be Rational, and the shape of the array is self-evident. (Though I now see that MATLAB 2016b is adding such headers to non-float output.) The zero structure also jumps out more clearly in the MATLAB case, though it&rsquo;s profligate with whitespace.</p>
<p>Another comparison, of MATLAB (using the default format):</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-matlab" data-lang="matlab"><span style="color:#ae81ff">1</span>     <span style="color:#ae81ff">0</span>     <span style="color:#ae81ff">0</span>     <span style="color:#ae81ff">0</span>     <span style="color:#ae81ff">0</span>     <span style="color:#ae81ff">1</span>
<span style="color:#ae81ff">0</span>     <span style="color:#ae81ff">1</span>     <span style="color:#ae81ff">0</span>     <span style="color:#ae81ff">0</span>     <span style="color:#ae81ff">0</span>     <span style="color:#ae81ff">2</span>
<span style="color:#ae81ff">0</span>     <span style="color:#ae81ff">0</span>     <span style="color:#ae81ff">1</span>     <span style="color:#ae81ff">0</span>     <span style="color:#ae81ff">0</span>     <span style="color:#ae81ff">4</span>
<span style="color:#ae81ff">0</span>     <span style="color:#ae81ff">0</span>     <span style="color:#ae81ff">0</span>     <span style="color:#ae81ff">1</span>     <span style="color:#ae81ff">0</span>     <span style="color:#ae81ff">8</span>
<span style="color:#ae81ff">0</span>     <span style="color:#ae81ff">0</span>     <span style="color:#ae81ff">0</span>     <span style="color:#ae81ff">0</span>     <span style="color:#ae81ff">1</span>    <span style="color:#ae81ff">16</span>
<span style="color:#ae81ff">0</span>     <span style="color:#ae81ff">0</span>     <span style="color:#ae81ff">0</span>     <span style="color:#ae81ff">0</span>     <span style="color:#ae81ff">0</span>    <span style="color:#ae81ff">32</span>
</code></pre></div><p>versus Julia:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-julia" data-lang="julia"><span style="color:#ae81ff">6</span>×6 <span style="color:#66d9ef">Array</span>{<span style="color:#66d9ef">Float64</span>,<span style="color:#ae81ff">2</span>}<span style="color:#f92672">:</span>
  <span style="color:#ae81ff">1.0</span>  <span style="color:#ae81ff">0.0</span>  <span style="color:#ae81ff">0.0</span>  <span style="color:#ae81ff">0.0</span>  <span style="color:#ae81ff">0.0</span>   <span style="color:#ae81ff">1.0</span>
  <span style="color:#ae81ff">0.0</span>  <span style="color:#ae81ff">1.0</span>  <span style="color:#ae81ff">0.0</span>  <span style="color:#ae81ff">0.0</span>  <span style="color:#ae81ff">0.0</span>   <span style="color:#ae81ff">2.0</span>
  <span style="color:#ae81ff">0.0</span>  <span style="color:#ae81ff">0.0</span>  <span style="color:#ae81ff">1.0</span>  <span style="color:#ae81ff">0.0</span>  <span style="color:#ae81ff">0.0</span>   <span style="color:#ae81ff">4.0</span>
  <span style="color:#ae81ff">0.0</span>  <span style="color:#ae81ff">0.0</span>  <span style="color:#ae81ff">0.0</span>  <span style="color:#ae81ff">1.0</span>  <span style="color:#ae81ff">0.0</span>   <span style="color:#ae81ff">8.0</span>
  <span style="color:#ae81ff">0.0</span>  <span style="color:#ae81ff">0.0</span>  <span style="color:#ae81ff">0.0</span>  <span style="color:#ae81ff">0.0</span>  <span style="color:#ae81ff">1.0</span>  <span style="color:#ae81ff">16.0</span>
  <span style="color:#ae81ff">0.0</span>  <span style="color:#ae81ff">0.0</span>  <span style="color:#ae81ff">0.0</span>  <span style="color:#ae81ff">0.0</span>  <span style="color:#ae81ff">0.0</span>  <span style="color:#ae81ff">32.0</span>
</code></pre></div><p>There&rsquo;s nothing wrong per se about Julia&rsquo;s. But which version would you write down, or expect to see in print? One last case, of a matrix that is supposed to be triangular but for a little roundoff. First, Julia:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-julia" data-lang="julia"><span style="color:#ae81ff">4</span>×4 <span style="color:#66d9ef">Array</span>{<span style="color:#66d9ef">Float64</span>,<span style="color:#ae81ff">2</span>}<span style="color:#f92672">:</span>
  <span style="color:#ae81ff">17.0</span>           <span style="color:#ae81ff">2.0</span>      <span style="color:#ae81ff">3.0</span>          <span style="color:#ae81ff">13.0</span>    
  <span style="color:#ae81ff">0.0</span>          <span style="color:#ae81ff">13.5294</span>  <span style="color:#ae81ff">14.2941</span>       <span style="color:#f92672">-</span><span style="color:#ae81ff">1.05882</span>
  <span style="color:#ae81ff">0.0</span>           <span style="color:#ae81ff">0.0</span>     <span style="color:#f92672">-</span><span style="color:#ae81ff">2.93913</span>       <span style="color:#ae81ff">5.06957</span>
  <span style="color:#ae81ff">5.55112e-16</span>   <span style="color:#ae81ff">0.0</span>     <span style="color:#f92672">-</span><span style="color:#ae81ff">4.44089e-16</span>   <span style="color:#ae81ff">4.09024</span>
</code></pre></div><p>And MATLAB, using the default format:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-matlab" data-lang="matlab"><span style="color:#ae81ff">17.0000</span>    <span style="color:#ae81ff">2.0000</span>    <span style="color:#ae81ff">3.0000</span>   <span style="color:#ae81ff">13.0000</span>
      <span style="color:#ae81ff">0</span>   <span style="color:#ae81ff">13.5294</span>   <span style="color:#ae81ff">14.2941</span>   <span style="color:#f92672">-</span><span style="color:#ae81ff">1.0588</span>
      <span style="color:#ae81ff">0</span>         <span style="color:#ae81ff">0</span>   <span style="color:#f92672">-</span><span style="color:#ae81ff">2.9391</span>    <span style="color:#ae81ff">5.0696</span>
<span style="color:#ae81ff">0.0000</span>         <span style="color:#ae81ff">0</span>   <span style="color:#f92672">-</span><span style="color:#ae81ff">0.0000</span>    <span style="color:#ae81ff">4.0902</span>
</code></pre></div><p>Julia has chosen to align on the decimal point. It&rsquo;s also suppressing trailing zeros, except for the first, giving an odd and false impression of values that have a precise number of significant digits. MATLAB&rsquo;s choice of right alignment is visually superior, and only exact zero gets a special display. True, you might want that exponential notation for the tiny values; you can get it by changing the format.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-matlab" data-lang="matlab"><span style="color:#f92672">&gt;&gt;</span> format short e
<span style="color:#f92672">&gt;&gt;</span> U
U =
    <span style="color:#ae81ff">1.7000e+01</span>   <span style="color:#ae81ff">2.0000e+00</span>   <span style="color:#ae81ff">3.0000e+00</span>   <span style="color:#ae81ff">1.3000e+01</span>
            <span style="color:#ae81ff">0</span>   <span style="color:#ae81ff">1.3529e+01</span>   <span style="color:#ae81ff">1.4294e+01</span>  <span style="color:#f92672">-</span><span style="color:#ae81ff">1.0588e+00</span>
            <span style="color:#ae81ff">0</span>            <span style="color:#ae81ff">0</span>  <span style="color:#f92672">-</span><span style="color:#ae81ff">2.9391e+00</span>   <span style="color:#ae81ff">5.0696e+00</span>
    <span style="color:#ae81ff">5.5511e-16</span>            <span style="color:#ae81ff">0</span>  <span style="color:#f92672">-</span><span style="color:#ae81ff">4.4409e-16</span>   <span style="color:#ae81ff">4.0902e+00</span>

<span style="color:#f92672">&gt;&gt;</span> format short g
<span style="color:#f92672">&gt;&gt;</span> U
U =
            <span style="color:#ae81ff">17</span>            <span style="color:#ae81ff">2</span>            <span style="color:#ae81ff">3</span>           <span style="color:#ae81ff">13</span>
            <span style="color:#ae81ff">0</span>       <span style="color:#ae81ff">13.529</span>       <span style="color:#ae81ff">14.294</span>      <span style="color:#f92672">-</span><span style="color:#ae81ff">1.0588</span>
            <span style="color:#ae81ff">0</span>            <span style="color:#ae81ff">0</span>      <span style="color:#f92672">-</span><span style="color:#ae81ff">2.9391</span>       <span style="color:#ae81ff">5.0696</span>
    <span style="color:#ae81ff">5.5511e-16</span>            <span style="color:#ae81ff">0</span>  <span style="color:#f92672">-</span><span style="color:#ae81ff">4.4409e-16</span>       <span style="color:#ae81ff">4.0902</span>
</code></pre></div><p>It&rsquo;s nice to have options.</p>

    </div>

    








<div class="share-box" aria-hidden="true">
  <ul class="share">
    
      
      
      
        
      
      
      
      <li>
        <a href="https://twitter.com/intent/tweet?url=https://tobydriscoll.net/blog/trefethen-bau-matlab-julia-lectures-20-21-23-solving-square-systems/&amp;text=Trefethen%20&amp;amp;%20Bau%20&amp;amp;%20MATLAB%20&amp;amp;%20Julia:%20Lectures%2020,%2021,%2023:%20Solving%20square%20systems" target="_blank" rel="noopener" class="share-btn-twitter">
          <i class="fab fa-twitter"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://www.facebook.com/sharer.php?u=https://tobydriscoll.net/blog/trefethen-bau-matlab-julia-lectures-20-21-23-solving-square-systems/&amp;t=Trefethen%20&amp;amp;%20Bau%20&amp;amp;%20MATLAB%20&amp;amp;%20Julia:%20Lectures%2020,%2021,%2023:%20Solving%20square%20systems" target="_blank" rel="noopener" class="share-btn-facebook">
          <i class="fab fa-facebook"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="mailto:?subject=Trefethen%20&amp;amp;%20Bau%20&amp;amp;%20MATLAB%20&amp;amp;%20Julia:%20Lectures%2020,%2021,%2023:%20Solving%20square%20systems&amp;body=https://tobydriscoll.net/blog/trefethen-bau-matlab-julia-lectures-20-21-23-solving-square-systems/" target="_blank" rel="noopener" class="share-btn-email">
          <i class="fas fa-envelope"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://www.linkedin.com/shareArticle?url=https://tobydriscoll.net/blog/trefethen-bau-matlab-julia-lectures-20-21-23-solving-square-systems/&amp;title=Trefethen%20&amp;amp;%20Bau%20&amp;amp;%20MATLAB%20&amp;amp;%20Julia:%20Lectures%2020,%2021,%2023:%20Solving%20square%20systems" target="_blank" rel="noopener" class="share-btn-linkedin">
          <i class="fab fa-linkedin-in"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="whatsapp://send?text=Trefethen%20&amp;amp;%20Bau%20&amp;amp;%20MATLAB%20&amp;amp;%20Julia:%20Lectures%2020,%2021,%2023:%20Solving%20square%20systems%20https://tobydriscoll.net/blog/trefethen-bau-matlab-julia-lectures-20-21-23-solving-square-systems/" target="_blank" rel="noopener" class="share-btn-whatsapp">
          <i class="fab fa-whatsapp"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://service.weibo.com/share/share.php?url=https://tobydriscoll.net/blog/trefethen-bau-matlab-julia-lectures-20-21-23-solving-square-systems/&amp;title=Trefethen%20&amp;amp;%20Bau%20&amp;amp;%20MATLAB%20&amp;amp;%20Julia:%20Lectures%2020,%2021,%2023:%20Solving%20square%20systems" target="_blank" rel="noopener" class="share-btn-weibo">
          <i class="fab fa-weibo"></i>
        </a>
      </li>
    
  </ul>
</div>












  
  





  
    
    
    
      
    
    
    
    <div class="media author-card content-widget-hr">
      
        
        <img class="avatar mr-3 avatar-circle" src="/authors/driscoll/avatar_hu4e929924294f93c0f179ff7f27e8c366_2280047_270x270_fill_q90_lanczos_center.jpg" alt="">
      

      <div class="media-body">
        <h5 class="card-title"><a href="https://tobydriscoll.net/"></a></h5>
        <h6 class="card-subtitle">Professor of Mathematical Sciences</h6>
        <p class="card-text">My research interests are in scientific computation, mathematical software, and applications of mathematics in the life sciences.</p>
        <ul class="network-icon" aria-hidden="true">
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="/#contact" >
        <i class="fas fa-envelope"></i>
      </a>
    </li>
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://twitter.com/tobydriscoll" target="_blank" rel="noopener">
        <i class="fab fa-twitter"></i>
      </a>
    </li>
  
    
    
    
    
    
    
    
      
    
    <li>
      <a href="https://scholar.google.com/citations?user=V2c1tmAAAAAJ&amp;hl=en" target="_blank" rel="noopener">
        <i class="ai ai-google-scholar"></i>
      </a>
    </li>
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://github.com/tobydriscoll" target="_blank" rel="noopener">
        <i class="fab fa-github"></i>
      </a>
    </li>
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://www.youtube.com/channel/UCcDR49dQ8fGiJfF-vAxEDNw" target="_blank" rel="noopener">
        <i class="fab fa-youtube"></i>
      </a>
    </li>
  
    
    
    
    
    
    
    
      
    
    <li>
      <a href="https://orcid.org/0000-0002-1490-2545" target="_blank" rel="noopener">
        <i class="ai ai-orcid"></i>
      </a>
    </li>
  
    
    
    
    
    
    
    
      
    
    <li>
      <a href="https://tobydriscoll.github.io/markdown-cv/" target="_blank" rel="noopener">
        <i class="ai ai-cv"></i>
      </a>
    </li>
  
</ul>

      </div>
    </div>
  














  
  





  </div>
</article>

      

    
    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js" integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js" integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js" integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin="anonymous"></script>

      

      
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/highlight.min.js" integrity="sha256-eOgo0OtLL4cdq7RdwRUiGKLX9XsIJ7nGhWEKbohmVAQ=" crossorigin="anonymous"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/languages/matlab.min.js"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/languages/julia.min.js"></script>
        
      

    

    
    

    
    
    <script>const code_highlighting = true;</script>
    

    
    
    <script>const isSiteThemeDark = false;</script>
    

    
    
    
    
    
    
    <script>
      const search_config = {"indexURI":"/index.json","minLength":1,"threshold":0.3};
      const i18n = {"no_results":"No results found","placeholder":"Search...","results":"results found"};
      const content_type = {
        'post': "Posts",
        'project': "Projects",
        'publication' : "Publications",
        'talk' : "Talks",
        'slides' : "Slides"
        };
    </script>
    

    
    

    
    
    <script id="search-hit-fuse-template" type="text/x-template">
      <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
      </div>
    </script>
    

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.1/fuse.min.js" integrity="sha256-VzgmKYmhsGNNN4Ph1kMW+BjoYJM2jV5i4IlFoeZA9XI=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>
    

    
    

    
    

    
    

    
    
    
    
    
    
    
    
    
      
    
    
    
    
    <script src="/js/academic.min.37431be2d92d7fb0160054761ab79602.js"></script>

    






  
  
  <div class="container">
    <footer class="site-footer">
  

  <p class="powered-by">
    
  </p>

  
  






  <p class="powered-by">
    Powered by the
    <a href="https://sourcethemes.com/academic/" target="_blank" rel="noopener">Academic theme</a> for
    <a href="https://gohugo.io" target="_blank" rel="noopener">Hugo</a>.

    
    <span class="float-right" aria-hidden="true">
      <a href="#" class="back-to-top">
        <span class="button_icon">
          <i class="fas fa-chevron-up fa-2x"></i>
        </span>
      </a>
    </span>
    
  </p>
</footer>

  </div>
  

  
<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Cite</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <pre><code class="tex hljs"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-outline-primary my-1 js-copy-cite" href="#" target="_blank">
          <i class="fas fa-copy"></i> Copy
        </a>
        <a class="btn btn-outline-primary my-1 js-download-cite" href="#" target="_blank">
          <i class="fas fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

</body>
</html>
