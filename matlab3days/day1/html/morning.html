
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <!--
This HTML was auto-generated from MATLAB code.
To make changes, update the MATLAB code and republish this document.
      --><title>morning</title><meta name="generator" content="MATLAB 8.1"><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"><meta name="DC.date" content="2014-08-01"><meta name="DC.source" content="morning.m"><style type="text/css">

body {
  background-color: white;
  margin:10px;
}

h1 {
  color: #990000; 
  font-size: x-large;
}

h2 {
  color: #990000;
  font-size: medium;
}

/* Make the text shrink to fit narrow windows, but not stretch too far in 
wide windows. */ 
p,h1,h2,div.content div {
  max-width: 600px;
  /* Hack for IE6 */
  width: auto !important; width: 600px;
}

pre.codeinput {
  background: #EEEEEE;
  padding: 10px;
}
@media print {
  pre.codeinput {word-wrap:break-word; width:100%;}
} 

span.keyword {color: #0000FF}
span.comment {color: #228B22}
span.string {color: #A020F0}
span.untermstring {color: #B20000}
span.syscmd {color: #B28C00}

pre.codeoutput {
  color: #666666;
  padding: 10px;
}

pre.error {
  color: red;
}

p.footer {
  text-align: right;
  font-size: xx-small;
  font-weight: lighter;
  font-style: italic;
  color: gray;
}

  </style><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
      MathJax.Hub.Config({
        jax: ["input/TeX","output/HTML-CSS"],
      });
    </script></head><body><div class="content"><h2>Contents</h2><div><ul><li><a href="#1">Playing with census data</a></li><li><a href="#2">Raw data</a></li><li><a href="#11">Simple analysis</a></li><li><a href="#16">Exponential analysis</a></li></ul></div><h2>Playing with census data<a name="1"></a></h2><p>Toby Driscoll, July 2014</p><pre class="codeinput">clear, close <span class="string">all</span>
</pre><h2>Raw data<a name="2"></a></h2><p>Here is some data from the US census. It comes with matlab by default.</p><pre class="codeinput">load <span class="string">census</span>
who
</pre><pre class="codeoutput">
Your variables are:

cdate  pop    

</pre><p>We inspect the values of variables just be entering their names at the command line.</p><pre class="codeinput">cdate
</pre><pre class="codeoutput">
cdate =

        1790
        1800
        1810
        1820
        1830
        1840
        1850
        1860
        1870
        1880
        1890
        1900
        1910
        1920
        1930
        1940
        1950
        1960
        1970
        1980
        1990

</pre><pre class="codeinput">pop
</pre><pre class="codeoutput">
pop =

    3.9000
    5.3000
    7.2000
    9.6000
   12.9000
   17.1000
   23.1000
   31.4000
   38.6000
   50.2000
   62.9000
   76.0000
   92.0000
  105.7000
  122.8000
  131.7000
  150.7000
  179.0000
  205.0000
  226.5000
  248.7000

</pre><p>Matlab considers these variables to be vectors. They have the same size.</p><pre class="codeinput">size(cdate)
</pre><pre class="codeoutput">
ans =

    21     1

</pre><p>We can put them side by side using square brackets.</p><pre class="codeinput">both = [ cdate, pop ]
</pre><pre class="codeoutput">
both =

   1.0e+03 *

    1.7900    0.0039
    1.8000    0.0053
    1.8100    0.0072
    1.8200    0.0096
    1.8300    0.0129
    1.8400    0.0171
    1.8500    0.0231
    1.8600    0.0314
    1.8700    0.0386
    1.8800    0.0502
    1.8900    0.0629
    1.9000    0.0760
    1.9100    0.0920
    1.9200    0.1057
    1.9300    0.1228
    1.9400    0.1317
    1.9500    0.1507
    1.9600    0.1790
    1.9700    0.2050
    1.9800    0.2265
    1.9900    0.2487

</pre><p>Matlab calls this a matrix. Most languages would call it an array. It has two columns.</p><pre class="codeinput">size(both)
</pre><pre class="codeoutput">
ans =

    21     2

</pre><p>One of the first things you usually want to do with data is to look at it graphically. The plot command uses a pair of vectors to define points in the plane, and connects them with straight lines.</p><pre class="codeinput">plot(cdate,pop)
</pre><img vspace="5" hspace="5" src="morning_01.png" alt=""> <p>It's usually better to show the actual individual values, since the lines in between are fictitious.</p><pre class="codeinput">plot(cdate,pop,<span class="string">'o'</span>)
</pre><img vspace="5" hspace="5" src="morning_02.png" alt=""> <p>We can annotate the graph after it is made.</p><pre class="codeinput">xlabel(<span class="string">'year'</span>)
ylabel(<span class="string">'population (millions)'</span>)
title(<span class="string">'US Census population'</span>)
</pre><img vspace="5" hspace="5" src="morning_03.png" alt=""> <h2>Simple analysis<a name="11"></a></h2><p>We can calculate basic facts about the data.</p><pre class="codeinput">average_value = mean(pop)
standard_dev = std(pop)
median_value = median(pop)
</pre><pre class="codeoutput">
average_value =

   85.7286


standard_dev =

   78.6011


median_value =

   62.9000

</pre><p>Those aren't very helpful. Let's try finding the best-fit line to the data.</p><pre class="codeinput">p = polyfit(cdate,pop,1)
</pre><pre class="codeoutput">
p =

   1.0e+03 *

    0.0012   -2.2120

</pre><p>These are the coefficients of a linear function--a polynomial of degree one. Matlab represents a polynomial as a vector of coefficients, from highest degree to constant term.</p><pre class="codeinput">slope = p(1), intercept = p(2)
</pre><pre class="codeoutput">
slope =

    1.2157


intercept =

  -2.2120e+03

</pre><p>We'll compare the best fit line to the data. In order to add to a plot, use <tt>hold on</tt>.</p><pre class="codeinput">hold <span class="string">on</span>
</pre><img vspace="5" hspace="5" src="morning_04.png" alt=""> <p>The <tt>polyval</tt> command evaluates a polynomial at given points.</p><pre class="codeinput">plot(cdate,polyval(p,cdate),<span class="string">'r'</span>)
</pre><img vspace="5" hspace="5" src="morning_05.png" alt=""> <h2>Exponential analysis<a name="16"></a></h2><p>The linear fit is not very good. We expect that populations grow exponentially. Such a relationship is revealed by a log-linear graph.</p><pre class="codeinput">clf
semilogy(cdate,pop)
</pre><img vspace="5" hspace="5" src="morning_06.png" alt=""> <p>There are two distinct eras of growth. Let's just fit the data since 1900.</p><pre class="codeinput">mask = (cdate &gt;= 1900);
p = polyfit( cdate(mask), log(pop(mask)), 1 );
hold <span class="string">on</span>
plot( cdate(mask), exp(polyval(p,cdate(mask))), <span class="string">'r'</span> )
</pre><img vspace="5" hspace="5" src="morning_07.png" alt=""> <p>We can extrapolate to 2010.</p><pre class="codeinput">pop2010 = exp( polyval(p,2010) )
</pre><pre class="codeoutput">
pop2010 =

  335.6168

</pre><p>The actual population was about 309 million.</p><p class="footer"><br>
      Published with MATLAB&reg; 8.1<br></p></div><!--
##### SOURCE BEGIN #####
%% Playing with census data
% Toby Driscoll, July 2014
clear, close all

%% Raw data
% Here is some data from the US census. It comes with matlab by default.
load census
who

%%
% We inspect the values of variables just be entering their names at the
% command line.
cdate

%%
pop

%%
% Matlab considers these variables to be vectors. They have the same size.
size(cdate)

%%
% We can put them side by side using square brackets.
both = [ cdate, pop ]

%%
% Matlab calls this a matrix. Most languages would call it an array. It has
% two columns.
size(both)

%%
% One of the first things you usually want to do with data is to look at it
% graphically. The plot command uses a pair of vectors to define points in
% the plane, and connects them with straight lines.
plot(cdate,pop)

%%
% It's usually better to show the actual individual values, since the lines
% in between are fictitious.
plot(cdate,pop,'o')

%%
% We can annotate the graph after it is made.
xlabel('year')
ylabel('population (millions)')
title('US Census population')

%% Simple analysis
% We can calculate basic facts about the data.
average_value = mean(pop)
standard_dev = std(pop)
median_value = median(pop)

%%
% Those aren't very helpful. Let's try finding the best-fit line to the
% data.
p = polyfit(cdate,pop,1)

%%
% These are the coefficients of a linear functionREPLACE_WITH_DASH_DASHa polynomial of degree
% one. Matlab represents a polynomial as a vector of coefficients, from
% highest degree to constant term.
slope = p(1), intercept = p(2)

%%
% We'll compare the best fit line to the data. In order to add to a plot,
% use |hold on|.
hold on

%%
% The |polyval| command evaluates a polynomial at given points.
plot(cdate,polyval(p,cdate),'r')

%% Exponential analysis
% The linear fit is not very good. We expect that populations grow
% exponentially. Such a relationship is revealed by a log-linear graph.
clf
semilogy(cdate,pop)

%%
% There are two distinct eras of growth. Let's just fit the data since 1900.
mask = (cdate >= 1900);
p = polyfit( cdate(mask), log(pop(mask)), 1 );
hold on
plot( cdate(mask), exp(polyval(p,cdate(mask))), 'r' )

%%
% We can extrapolate to 2010.
pop2010 = exp( polyval(p,2010) )

%%
% The actual population was about 309 million. 



##### SOURCE END #####
--></body></html>